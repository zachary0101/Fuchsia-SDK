# Copyright 2019 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

assert(current_os == "fuchsia")

import("fuchsia_sdk_pkg.gni")

config("sdk_lib_dirs_config") {
  visibility = [ ":*" ]
  lib_dirs = [ "sdk/arch/${target_cpu}/lib" ]
}

# Copy the loader to place it at the expected path in the final package.
copy("sysroot_dist_libs") {
  sources = [
    "sdk/arch/${target_cpu}/sysroot/dist/lib/ld.so.1",
  ]

  outputs = [
    "${root_out_dir}/lib/{{source_file_part}}",
  ]
}

# This adds the runtime deps for //build/config/compiler:runtime_library
# as that is a config target and thus cannot include data_deps.
group("runtime_library") {
  data_deps = [
    ":sysroot_dist_libs",

    # This is used directly from //build/config/fuchsia:compiler and thus
    # also needs to be included by default.
    "sdk/pkg/fdio",
  ]
}

group("all_fidl_targets") {
  deps = [
        "sdk/fidl/fuchsia.accessibility.semantics",
        "sdk/fidl/fuchsia.auth",
        "sdk/fidl/fuchsia.auth.oldtokens",
        "sdk/fidl/fuchsia.bluetooth",
        "sdk/fidl/fuchsia.bluetooth.control",
        "sdk/fidl/fuchsia.bluetooth.gatt",
        "sdk/fidl/fuchsia.bluetooth.le",
        "sdk/fidl/fuchsia.camera",
        "sdk/fidl/fuchsia.camera2",
        "sdk/fidl/fuchsia.camera2.hal",
        "sdk/fidl/fuchsia.camera3",
        "sdk/fidl/fuchsia.castauth",
        "sdk/fidl/fuchsia.castconfig",
        "sdk/fidl/fuchsia.castsetup",
        "sdk/fidl/fuchsia.castsysteminfo",
        "sdk/fidl/fuchsia.cobalt",
        "sdk/fidl/fuchsia.deprecatedtimezone",
        "sdk/fidl/fuchsia.developer.tiles",
        "sdk/fidl/fuchsia.factory",
        "sdk/fidl/fuchsia.feedback",
        "sdk/fidl/fuchsia.fonts",
        "sdk/fidl/fuchsia.hardware.ethernet",
        "sdk/fidl/fuchsia.hardware.goldfish",
        "sdk/fidl/fuchsia.hardware.power.statecontrol",
        "sdk/fidl/fuchsia.hwinfo",
        "sdk/fidl/fuchsia.images",
        "sdk/fidl/fuchsia.inspect",
        "sdk/fidl/fuchsia.intl",
        "sdk/fidl/fuchsia.io",
        "sdk/fidl/fuchsia.ldsvc",
        "sdk/fidl/fuchsia.location.namedplace",
        "sdk/fidl/fuchsia.logger",
        "sdk/fidl/fuchsia.math",
        "sdk/fidl/fuchsia.media",
        "sdk/fidl/fuchsia.media.audio",
        "sdk/fidl/fuchsia.media.drm",
        "sdk/fidl/fuchsia.media.playback",
        "sdk/fidl/fuchsia.media.sessions2",
        "sdk/fidl/fuchsia.mediacodec",
        "sdk/fidl/fuchsia.mem",
        "sdk/fidl/fuchsia.migration",
        "sdk/fidl/fuchsia.modular",
        "sdk/fidl/fuchsia.modular.auth",
        "sdk/fidl/fuchsia.modular.session",
        "sdk/fidl/fuchsia.modular.testing",
        "sdk/fidl/fuchsia.net",
        "sdk/fidl/fuchsia.net.dhcp",
        "sdk/fidl/fuchsia.net.http",
        "sdk/fidl/fuchsia.net.mdns",
        "sdk/fidl/fuchsia.net.oldhttp",
        "sdk/fidl/fuchsia.netstack",
        "sdk/fidl/fuchsia.posix.socket",
        "sdk/fidl/fuchsia.process",
        "sdk/fidl/fuchsia.recovery",
        "sdk/fidl/fuchsia.recovery.ui",
        "sdk/fidl/fuchsia.scenic.scheduling",
        "sdk/fidl/fuchsia.settings",
        "sdk/fidl/fuchsia.simplecamera",
        "sdk/fidl/fuchsia.sys",
        "sdk/fidl/fuchsia.sys.test",
        "sdk/fidl/fuchsia.sysinfo",
        "sdk/fidl/fuchsia.sysmem",
        "sdk/fidl/fuchsia.tracing.provider",
        "sdk/fidl/fuchsia.ui.app",
        "sdk/fidl/fuchsia.ui.gfx",
        "sdk/fidl/fuchsia.ui.input",
        "sdk/fidl/fuchsia.ui.input2",
        "sdk/fidl/fuchsia.ui.lifecycle",
        "sdk/fidl/fuchsia.ui.policy",
        "sdk/fidl/fuchsia.ui.scenic",
        "sdk/fidl/fuchsia.ui.types",
        "sdk/fidl/fuchsia.ui.vectorial",
        "sdk/fidl/fuchsia.ui.views",
        "sdk/fidl/fuchsia.update.channel",
        "sdk/fidl/fuchsia.update.channelcontrol",
        "sdk/fidl/fuchsia.web",
        "sdk/fidl/fuchsia.wlan.common",
        "sdk/fidl/fuchsia.wlan.service",
        "sdk/fidl/fuchsia.wlan.stats",
  ]
}